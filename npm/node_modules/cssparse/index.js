const os = require("os");

let addon;

const key = `${process.platform} ${os.arch()} ${os.endianness()}`;
const knownPackages = {
  "darwin x64 LE": "cssparse-darwin-64",
  "linux x64 LE": "cssparse-linux-64",
  "win32 x64 LE": "cssparse-windows-64",
};
const pkg = knownPackages[key];
if (key in knownPackages) {
  addon = require(knownPackages[key]);
} else {
  throw new Error(`Unsupported platform: ${key}`);
}

module.exports = addon;
